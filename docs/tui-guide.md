# 🎨 TUIユーザーガイド

vyb-codeの新しいTerminal User Interface (TUI) モードの使用方法と設定について説明します。

## 概要

TUIモードは、Bubble Teaフレームワークを使用した美しく直感的なターミナルインターフェースを提供します。従来のテキストベースのCLIと完全に互換性を保ちながら、モダンなユーザー体験を実現します。

## 🚀 TUIモードの開始

### 基本的な使用方法

```bash
# TUIモードで対話開始（デフォルト）
vyb chat

# TUIモードで直接起動
vyb

# レガシーモードで起動
vyb chat --no-tui
vyb --no-tui
```

### TUIモードの自動判定

vyb-codeは以下の優先順位でUIモードを決定します：

1. `--no-tui`フラグが指定されている → レガシーモード
2. 設定で`TUI.Enabled = false` → レガシーモード  
3. TUI初期化エラー → 自動的にレガシーモードへフォールバック
4. それ以外 → TUIモード

## ⚙️ TUI設定

### 設定コマンド

```bash
# TUIモードの有効/無効
vyb config set-tui true             # TUIモード有効
vyb config set-tui false            # TUIモード無効

# テーマ設定
vyb config set-tui-theme vyb        # vybブランドテーマ（デフォルト）
vyb config set-tui-theme dark       # ダークテーマ
vyb config set-tui-theme light      # ライトテーマ
vyb config set-tui-theme auto       # 自動検出

# 現在の設定確認
vyb config list
```

### 設定ファイル

`~/.vyb/config.json`に保存されるTUI設定：

```json
{
  "tui": {
    "enabled": true,
    "theme": "vyb",
    "show_spinner": true,
    "show_progress": true,
    "animation": true
  }
}
```

## 🎵 テーマシステム

### 利用可能なテーマ

#### 1. vybテーマ（デフォルト）
- **プライマリ**: ピンク系 (#FF6B9D)
- **セカンダリ**: グリーン系 (#6BCF7F) 
- **アクセント**: パープル系 (#9F7AEA)
- **特徴**: vybブランドの視覚的アイデンティティ

#### 2. ダークテーマ
- **背景**: 濃いグレー (#1E1E1E)
- **テキスト**: 白系
- **特徴**: 低光量環境に適した配色

#### 3. ライトテーマ  
- **背景**: 白系
- **テキスト**: 濃いグレー/黒系
- **特徴**: 明るい環境でのコントラスト重視

#### 4. 自動テーマ
- システムの色設定を自動検出
- 環境に合わせて最適なテーマを選択

## 🔄 インタラクティブコンポーネント

### スピナー

処理中の状態を視覚的に表示：

- **LLM応答待機**: パルスアニメーション（緑系）
- **ファイル検索**: ドットアニメーション（青系） 
- **ヘルスチェック**: ポイントアニメーション（オレンジ系）

### プログレスバー

長時間の処理で進捗を表示：

- **プロジェクト分析**: 黄色→オレンジ グラデーション
- **ファイル検索**: シアン→青 グラデーション
- **LLM処理**: 緑→明るい緑 グラデーション
- **ヘルスチェック**: ピンク系 グラデーション

## ⌨️ キーボードショートカット

### 共通操作

- `q`: 終了
- `Ctrl+C`: 強制終了
- `h`: ヘルプ表示

### ビュー切り替え

- `1`: メインビュー
- `2`: 設定ビュー
- `3`: ヘルスビュー
- `4`: 検索ビュー
- `5`: 分析ビュー

## 🔧 トラブルシューティング

### TUIが表示されない

```bash
# 設定確認
vyb config list

# TUIモード有効化
vyb config set-tui true

# 強制TUIモード
vyb chat
```

### テーマが反映されない

```bash
# テーマ再設定
vyb config set-tui-theme vyb

# 設定ファイル確認
cat ~/.vyb/config.json
```

### フォールバック動作

TUI初期化に失敗した場合：
- 自動的にレガシーモードで継続
- エラーメッセージ表示後に通常の操作が可能
- すべての機能が従来通り利用可能

## 🎯 最適な利用方法

### 開発ワークフロー

1. **TUIモード**で対話的な開発
   ```bash
   vyb chat  # 美しいUI体験
   ```

2. **レガシーモード**でスクリプト化
   ```bash
   vyb --no-tui "ファイルを解析して" > output.txt
   ```

3. **自動化**でTUIを無効化
   ```bash
   export VYB_NO_TUI=true
   vyb exec "make test"
   ```

### パフォーマンス考慮

- TUIモードは若干のオーバーヘッドあり
- CPUリソースが限定的な環境では`--no-tui`推奨
- 大量のバッチ処理では設定で無効化

## 🔮 今後の予定

- インタラクティブファイルブラウザー
- リアルタイム設定変更UI
- ダッシュボード形式のシステム監視
- カスタムテーマ作成機能
- キーボードショートカットのカスタマイズ